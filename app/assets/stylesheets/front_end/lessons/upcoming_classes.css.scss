$height: 185px;

.upcoming_lessons{
  .lesson_list {
    .lesson {
      display: block;
      margin-bottom: 15px;
      color: white;

      $time-width: 80px;

      &:hover {
        text-decoration: none;
        border: 3px solid black;
        margin: -3px -3px 12px -3px;

        @include categoryBorder;
      }

      .time_details {
        width: $time-width;
        height: $height;
        float: left;

        .contents {
          margin: 6px 10px;
        }

        .time {
          margin-bottom: 1em;

          .number {
            font-size: 20px;
          }

          .am_pm {
            font-size: 80%;
            text-transform: uppercase;
            line-height: 100%;
          }
        }
        .date {
          font-size: 90%;
        }
      }

      $image-width: $height;

      .image_container {
        width: $image-width;
        height: $height;
        float: left;
      }

      .lesson_body {
        background: $chalkboard-background;
        margin-left: $time-width + $image-width;
        height: $height;
        padding: 6px 10px 6px 15px;

        $height: $height - 12px;

        .contents {
          overflow: hidden;
          height: $height;

          $heading-height: 24px;
          $footer-height: 22px;

          h3 {
            margin: 0 0 10px 0;
            border: 0;
            font-size: 22px;
            height: $heading-height;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          $desc-space: $height - $heading-height - $footer-height - 10px;
          $desc-line-height: 18px;
          $desc-lines: floor($desc-space / $desc-line-height);
          $desc-height: $desc-line-height * $desc-lines;
          $desc-margin: $desc-space - $desc-height;

          .description {
            height: $desc-height;
            margin-bottom: $desc-margin;
            font-size: 14px;
            line-height: $desc-line-height;
            overflow: hidden;
            color: white;

            p {
              margin: 0 0 0 0;
            }
          }

          .details {
            height: $footer-height;

            > div {
              display: inline-block;
              border-right-width: 1px;
              border-right-style: solid;
              border-right-color: inherit;
              padding-right: 20px;
              margin-right: 20px;

              &:last-child {
                border-right: 0;
                padding-right: 0;
                margin-right: 0;
              }

              i {
                margin-right: 5px;
              }
            }
          }
        }
      }
    }
  }
}